<!doctype html><html lang=en dir=auto><head><meta charset=utf-8><meta http-equiv=x-ua-compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><meta name=robots content="index, follow"><title>Tooling is hard and necessary | Manish Sahani</title><meta name=keywords content><meta name=description content="Something is fascinating about customizing your operating system through dotfiles, and there are tons of articles out there on what you can do with these dotfiles. These simple invisible files may seem pointless for a novice, but they become a swiss army knife if properly configured.
In this article we&rsquo;ll discuss configuring these files and the best way to manage them for multiple devices.
 This article will discuss a way to setup a new machine in under a minute and a seamless way to switch between two different machines using the single repository."><meta name=author content="Manish Sahani"><link rel=canonical href=https://kalkayan.github.io/posts/tooling/><meta name=google-site-verification content="XYZabc"><link href=/assets/css/stylesheet.min.f64ac81e0cf74739005849ddd3513cc1e724823b54358c9b1a6dbce188669440.css integrity="sha256-9krIHgz3RzkAWEnd01E8weckgjtUNYybGm284YhmlEA=" rel="preload stylesheet" as=style><link rel=icon href=https://kalkayan.github.io/%3Clink%20/%20abs%20url%3E><link rel=icon type=image/png sizes=16x16 href=https://kalkayan.github.io/%3Clink%20/%20abs%20url%3E><link rel=icon type=image/png sizes=32x32 href=https://kalkayan.github.io/%3Clink%20/%20abs%20url%3E><link rel=apple-touch-icon href=https://kalkayan.github.io/%3Clink%20/%20abs%20url%3E><link rel=mask-icon href=https://kalkayan.github.io/%3Clink%20/%20abs%20url%3E><meta name=theme-color content="#2e2e33"><meta name=msapplication-TileColor content="#2e2e33"><meta name=generator content="Hugo 0.80.0"><script type=application/javascript>var doNotTrack=false;if(!doNotTrack){window.ga=window.ga||function(){(ga.q=ga.q||[]).push(arguments)};ga.l=+new Date;ga('create','G-SXEKTQT09G','auto');ga('send','pageview');}</script><script async src=https://www.google-analytics.com/analytics.js></script><meta property="og:title" content="Tooling is hard and necessary"><meta property="og:description" content="Something is fascinating about customizing your operating system through dotfiles, and there are tons of articles out there on what you can do with these dotfiles. These simple invisible files may seem pointless for a novice, but they become a swiss army knife if properly configured.
In this article we&rsquo;ll discuss configuring these files and the best way to manage them for multiple devices.
 This article will discuss a way to setup a new machine in under a minute and a seamless way to switch between two different machines using the single repository."><meta property="og:type" content="article"><meta property="og:url" content="https://kalkayan.github.io/posts/tooling/"><meta property="og:image" content="https://kalkayan.github.io/%3Clink%20or%20path%20of%20image%20for%20opengraph,%20twitter-cards%3E"><meta property="og:site_name" content="Manish Sahani"><meta name=twitter:card content="summary_large_image"><meta name=twitter:image content="https://kalkayan.github.io/%3Clink%20or%20path%20of%20image%20for%20opengraph,%20twitter-cards%3E"><meta name=twitter:title content="Tooling is hard and necessary"><meta name=twitter:description content="Something is fascinating about customizing your operating system through dotfiles, and there are tons of articles out there on what you can do with these dotfiles. These simple invisible files may seem pointless for a novice, but they become a swiss army knife if properly configured.
In this article we&rsquo;ll discuss configuring these files and the best way to manage them for multiple devices.
 This article will discuss a way to setup a new machine in under a minute and a seamless way to switch between two different machines using the single repository."><script type=application/ld+json>{"@context":"https://schema.org","@type":"BlogPosting","headline":"Tooling is hard and necessary","name":"Tooling is hard and necessary","description":"Something is fascinating about customizing your operating system through dotfiles, and there are tons of articles out there on what you can do with these dotfiles. These simple …","keywords":[],"articleBody":"Something is fascinating about customizing your operating system through dotfiles, and there are tons of articles out there on what you can do with these dotfiles. These simple invisible files may seem pointless for a novice, but they become a swiss army knife if properly configured.\nIn this article we’ll discuss configuring these files and the best way to manage them for multiple devices.\n This article will discuss a way to setup a new machine in under a minute and a seamless way to switch between two different machines using the single repository.\n Dotfiles customizes your system’s software in a way to maximize your productivity. There is a large dotfiles community, and with it comes a large number of customizations repositories and tons of articles on customization. In this article, first, we’ll look at the best way to manage and share these dotfiles, and In the later section, we’ll write an automation script to set up a new machine.\nManaging and tracking [dot]files Almost all the developers use git to store and share these files and symlinks to sync them. Well, symlinks works, but it isn’t the best way to sync your local files to the git repository. There is a much better solution to this, written by people at Atlassian – The best way to store your dotfiles: A bare Git repository .\nThe trick to managing these dotfiles is by creating a bare git repository. If you are starting from scratch and have not tracked your dotfiles before, make a bare repository in the $HOME directory.\ngit init --bare $HOME/.dotfiles Bare repository are special in a way that they omit working directory. Therefore to use a bare repository, first we need to define a --work-tree for the repository to $HOME directory (since dotfiles live there). To use dotfiles repository globally we also set a --git-dir as $HOME/.dotfiles. Now the command will look something like below.\ngit --work-dir $HOME --git-dir $HOME/.dotfiles [command] Just to make it easier to use we’ll alias this to dotfiles which we will use instead of regular git to interact with our dotfiles repository.\nalias dotfiles=\"/usr/bin/git --git-dir=$HOME/.dotfiles --work-tree=$HOME\" We also a set a flag to out local dotfiles repository - to hide all the files that we are not explicitly tracking, so that we only see files that we are interested in tracking.\n# hides all the untracked files when status command is called dotfiles config status.showUntrackedFiles no Now we are good to track our dotfiles using the dotfiles command, some of the examples are:\n# to check the version history  dotfiles log # to check the status of the tracked and untracked files  dotfiles status # to add a file for tracking dotfiles commit .vimrc -m \".vimrc added\" # push new files or changes to the github dotfiles push origin main In the later section this article, we’ll see the methods to efficently config your system by creating and adding some dotfiles like - .zshrc, .aliases, etc.\nUse Cases and Advantages of dotfiles This method of managing and sharing has various advantages some of them are listed below.\nEasy setup Set up of a new machine can be a time consuming task, but with this method we can to use our personalized configs in under a minute. We just need to clone the repository and source the .bashrc or .zshrc file.\ngit clone --bare https://github.com//dotfiles.git $HOME/.dotfiles \u0026\u0026 source ~/.zshrc Versioned dotfiles Best for experimenting with new configurations and keep the change history (Basically all the pros of using git)\n# to check the version history  dotfiles log Share on Multiple devices Share the same configs of multiple devices with minimal changes using branch, create a branch for your new machine, example:-\n# Create configurations specific to your aws machines dotfiles checkout -b aws Profiles for dotfiles Create configs based on your environment using branch, create a branch and configure according to you work env.\n# Manage multiple profiles - check out to the work profile  dotfiles checkout work ","wordCount":"664","inLanguage":"en","datePublished":"0001-01-01T00:00:00Z","dateModified":"0001-01-01T00:00:00Z","author":{"@type":"Person","name":"Manish Sahani"},"mainEntityOfPage":{"@type":"WebPage","@id":"https://kalkayan.github.io/posts/tooling/"},"publisher":{"@type":"Organization","name":"Manish Sahani","logo":{"@type":"ImageObject","url":"https://kalkayan.github.io/%3Clink%20/%20abs%20url%3E"}}}</script></head><body id=top><script>if(localStorage.getItem("pref-theme")==="dark"){document.body.classList.add('dark');}else if(localStorage.getItem("pref-theme")==="light"){document.body.classList.remove('dark')}else if(window.matchMedia('(prefers-color-scheme: dark)').matches){document.body.classList.add('dark');}</script><noscript><style type=text/css>.theme-toggle,.top-link{display:none}</style></noscript><header class=header><nav class=nav><div class=logo><a href=https://kalkayan.github.io accesskey=h title="kalkayan (Alt + H)">kalkayan</a></div><ul class=menu id=menu onscroll=menu_on_scroll()><li><a href=https://kalkayan.github.io/categories/ title=Categories><span>Categories</span></a></li><li><a href=https://kalkayan.github.io/posts/ title=Posts><span>Posts</span></a></li><li><span class=theme-toggle title="(Alt + T)"><a id=theme-toggle accesskey=t><svg id="moon" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M21 12.79A9 9 0 1111.21 3 7 7 0 0021 12.79z"/></svg><svg id="sun" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="5"/><line x1="12" y1="1" x2="12" y2="3"/><line x1="12" y1="21" x2="12" y2="23"/><line x1="4.22" y1="4.22" x2="5.64" y2="5.64"/><line x1="18.36" y1="18.36" x2="19.78" y2="19.78"/><line x1="1" y1="12" x2="3" y2="12"/><line x1="21" y1="12" x2="23" y2="12"/><line x1="4.22" y1="19.78" x2="5.64" y2="18.36"/><line x1="18.36" y1="5.64" x2="19.78" y2="4.22"/></svg></a></span></li></ul></nav></header><main class=main><article class=post-single><header class=post-header><h1 class=post-title>Tooling is hard and necessary</h1><div class=post-description></div><div class=post-meta>4 min&nbsp;·&nbsp;Manish Sahani</div></header><div class=post-content><p><img src=images/banner.jpg alt=banner></p><p>Something is fascinating about customizing your operating system through dotfiles, and there are tons of articles out there on what you can do with these dotfiles. These simple invisible files may seem pointless for a novice, but they become a swiss army knife if properly configured.</p><p>In this article we&rsquo;ll discuss configuring these files and the best way to manage them for multiple devices.</p><blockquote><p>This article will discuss a way to setup a new machine in under a minute and a seamless way to switch between two different machines using the single repository.</p></blockquote><p>Dotfiles customizes your system&rsquo;s software in a way to maximize your productivity. There is a large dotfiles community, and with it comes a large number of customizations repositories and tons of articles on customization. In this article, first, we&rsquo;ll look at the best way to manage and share these dotfiles, and In the later section, we&rsquo;ll write an automation script to set up a new machine.</p><h1 id=managing-and-tracking-dotfiles>Managing and tracking [dot]files<a hidden class=anchor aria-hidden=true href=#managing-and-tracking-dotfiles>#</a></h1><p>Almost all the developers use <code>git</code> to store and share these files and <code>symlinks</code> to sync them. Well, <code>symlinks</code> works, but it isn&rsquo;t the best way to sync your local files to the git repository. There is a much better solution to this, written by people at Atlassian &ndash; <a href=https://www.atlassian.com/git/tutorials/dotfiles>The best way to store your dotfiles: A bare Git repository </a>.</p><p>The trick to managing these dotfiles is by creating a <a href=https://www.atlassian.com/git/tutorials/setting-up-a-repository/git-init>bare</a> git repository. If you are starting from scratch and have not tracked your dotfiles before, make a <code>bare</code> repository in the <code>$HOME</code> directory.</p><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash>git init --bare $HOME/.dotfiles
</code></pre></div><p>Bare repository are special in a way that they omit working directory. Therefore to use a bare repository, first we need to define a <code>--work-tree</code> for the repository to <code>$HOME</code> directory (since dotfiles live there). To use dotfiles repository globally we also set a <code>--git-dir</code> as <code>$HOME/.dotfiles</code>. Now the command will look something like below.</p><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash>git --work-dir $HOME --git-dir $HOME/.dotfiles <span style=color:#f92672>[</span>command<span style=color:#f92672>]</span>
</code></pre></div><p>Just to make it easier to use we&rsquo;ll alias this to <code>dotfiles</code> which we will use instead of regular git to interact with our dotfiles repository.</p><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash>alias dotfiles<span style=color:#f92672>=</span><span style=color:#e6db74>&#34;/usr/bin/git --git-dir=</span>$HOME<span style=color:#e6db74>/.dotfiles --work-tree=</span>$HOME<span style=color:#e6db74>&#34;</span>
</code></pre></div><p>We also a set a flag to out local dotfiles repository - to hide all the files that we are not explicitly tracking, so that we only see files that we are interested in tracking.</p><pre><code># hides all the untracked files when status command is called
dotfiles config status.showUntrackedFiles no
</code></pre><p>Now we are good to track our dotfiles using the <code>dotfiles</code> command, some of the examples are:</p><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=color:#75715e># to check the version history </span>
dotfiles log

<span style=color:#75715e># to check the status of the tracked and untracked files </span>
dotfiles status

<span style=color:#75715e># to add a file for tracking</span>
dotfiles commit .vimrc -m <span style=color:#e6db74>&#34;.vimrc added&#34;</span>

<span style=color:#75715e># push new files or changes to the github</span>
dotfiles push origin main
</code></pre></div><p>In the later section this article, we&rsquo;ll see the methods to efficently config your system by creating and adding some dotfiles like - <code>.zshrc</code>, <code>.aliases</code>, etc.</p><h1 id=use-cases-and-advantages-of-dotfiles>Use Cases and Advantages of dotfiles<a hidden class=anchor aria-hidden=true href=#use-cases-and-advantages-of-dotfiles>#</a></h1><p>This method of managing and sharing has various advantages some of them are listed below.</p><h3 id=easy-setup>Easy setup<a hidden class=anchor aria-hidden=true href=#easy-setup>#</a></h3><p>Set up of a new machine can be a time consuming task, but with this method we can to use our personalized configs in under a minute.
We just need to clone the repository and source the <code>.bashrc</code> or <code>.zshrc</code> file.</p><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash>git clone --bare https://github.com/&lt;username&gt;/dotfiles.git $HOME/.dotfiles <span style=color:#f92672>&amp;&amp;</span> source ~/.zshrc
</code></pre></div><h3 id=versioned-dotfiles>Versioned dotfiles<a hidden class=anchor aria-hidden=true href=#versioned-dotfiles>#</a></h3><p>Best for experimenting with new configurations and keep the change history (Basically all the pros of using git)</p><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=color:#75715e># to check the version history </span>
dotfiles log
</code></pre></div><h3 id=share-on-multiple-devices>Share on Multiple devices<a hidden class=anchor aria-hidden=true href=#share-on-multiple-devices>#</a></h3><p>Share the same configs of multiple devices with minimal changes using <code>branch</code>, create a branch for your new machine, example:-</p><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=color:#75715e># Create configurations specific to your aws machines</span>
dotfiles checkout -b aws
</code></pre></div><h3 id=profiles-for-dotfiles>Profiles for dotfiles<a hidden class=anchor aria-hidden=true href=#profiles-for-dotfiles>#</a></h3><p>Create configs based on your environment using <code>branch</code>, create a branch and configure according to you work env.</p><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=color:#75715e># Manage multiple profiles - check out to the work profile </span>
dotfiles checkout work
</code></pre></div></div><footer class=post-footer><div class=share-buttons><a target=_blank rel="noopener noreferrer" aria-label="share Tooling is hard and necessary on twitter" href="https://twitter.com/intent/tweet/?text=Tooling%20is%20hard%20and%20necessary&url=https%3a%2f%2fkalkayan.github.io%2fposts%2ftooling%2f&hashtags="><img src=https://img.icons8.com/ios-glyphs/50/000000/twitter.png></a>
<a target=_blank rel="noopener noreferrer" aria-label="share Tooling is hard and necessary on linkedin" href="https://www.linkedin.com/shareArticle?mini=true&url=https%3a%2f%2fkalkayan.github.io%2fposts%2ftooling%2f&title=Tooling%20is%20hard%20and%20necessary&summary=Tooling%20is%20hard%20and%20necessary&source=https%3a%2f%2fkalkayan.github.io%2fposts%2ftooling%2f"><img src=https://img.icons8.com/ios-glyphs/50/000000/linkedin.png></a>
<a target=_blank rel="noopener noreferrer" aria-label="share Tooling is hard and necessary on reddit" href="https://reddit.com/submit?url=https%3a%2f%2fkalkayan.github.io%2fposts%2ftooling%2f&title=Tooling%20is%20hard%20and%20necessary"><img src=https://img.icons8.com/ios-glyphs/50/000000/reddit.png></a>
<a target=_blank rel="noopener noreferrer" aria-label="share Tooling is hard and necessary on whatsapp" href="https://api.whatsapp.com/send?text=Tooling%20is%20hard%20and%20necessary%20-%20https%3a%2f%2fkalkayan.github.io%2fposts%2ftooling%2f"><img src=https://img.icons8.com/ios-glyphs/50/000000/whatsapp.png></a></div></footer></article><footer class=footer><span>&copy; 2021 <a href=https://kalkayan.github.io>Manish Sahani</a></span>
<span>&#183;</span><br><span>Powered by <a href=https://gohugo.io/ rel="noopener noreferrer" target=_blank>Hugo</a></span>
<span>&#183;</span>
<span>Theme <a href=https://git.io/hugopapermod rel=noopener target=_blank>PaperMod</a></span></footer><a href=#top aria-label="go to top" title="Go to Top (Alt + G)"><button class=top-link id=top-link type=button accesskey=g><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 12 6" fill="currentcolor"><path d="M12 6H0l6-6z"/></svg></button></a>
<script defer src=/assets/js/highlight.min.27cd435cc9ed6abb4b496581b151804f79f366c412620272bb94e2f5f598ebcc.js integrity="sha256-J81DXMntartLSWWBsVGAT3nzZsQSYgJyu5Ti9fWY68w=" onload=hljs.initHighlightingOnLoad();></script><script>window.onload=function(){if(localStorage.getItem("menu-scroll-position")){document.getElementById('menu').scrollLeft=localStorage.getItem("menu-scroll-position");}}
document.querySelectorAll('a[href^="#"]').forEach(anchor=>{anchor.addEventListener("click",function(e){e.preventDefault();var id=this.getAttribute("href").substr(1);document.querySelector(`[id='${decodeURIComponent(id)}']`).scrollIntoView({behavior:"smooth"});if(id==="top"){history.replaceState(null,null," ");}else{history.replaceState(null,null,`#${id}`);}});});var mybutton=document.getElementById("top-link");window.onscroll=function(){if(document.body.scrollTop>800||document.documentElement.scrollTop>800){mybutton.style.visibility="visible";mybutton.style.opacity="1";}else{mybutton.style.visibility="hidden";mybutton.style.opacity="0";}};function menu_on_scroll(){localStorage.setItem("menu-scroll-position",document.getElementById('menu').scrollLeft);}</script><script>document.getElementById("theme-toggle").addEventListener("click",()=>{if(document.body.className.includes("dark")){document.body.classList.remove('dark');localStorage.setItem("pref-theme",'light');}else{document.body.classList.add('dark');localStorage.setItem("pref-theme",'dark');}})</script></main></body></html>